pipeline {
  agent any

  tools {
    nodejs 'NodeJS'
  }

  stages {
    stage('Check Frontend Directory') {
      steps {
        bat 'dir'                        // This will list the root workspace contents
        dir('my-frontend') {
          bat 'dir'                      // This will list the contents of my-frontend
        }
      }
    }
    stage('Frontend Build') {
      steps {
        dir('my-frontend') {
          bat 'npm install'
          bat 'npm run build'
        }
      }
    }
    stage('Backend Build & Test') {
      steps {
        dir('my-backend') {
          bat 'python -m venv venv'
          bat '''
          call venv\\Scripts\\activate
          pip install -r requirements.txt
          '''
        }
      }
    }
    stage('Deploy') {
      steps {
        echo 'Deploy your built frontend and backend here (e.g., copy files, restart services)'
      }
    }
  }
}
